# 練習問題: StringsAndBinaries-3

```elixir
iex(1)> ['cat' | 'dog']
['cat', 100, 111, 103]
```

## 題

なぜ、iexは'cat'を文字列として表示しているのに、'dog'を文字コードで表示しているのだろう？

## 解

'cat'は整数リスト、整理数リストに結合された'dog'は各要素を整数として評価されているため。

## 詳細

リストとはヘッドとテイルによって構成される。
(1つ目の要素とリストの結合として表現可能である)
また、カンマを用いて以下のように表現することが可能である。

```
[a | [b | []]] == [a, b]
```

今回の['cat' | 'dog']をリストのヘッド・テイルの表現から、
カンマ表現になる過程を見ていく。

```
['cat' | 'dog']
= [ [99 | [97 | [116 | []]]] | [100 | [111 | [103 | []]]] ]
= [ [99 | [97 | [116     ]]] | [100 | [111 | [103     ]]] ]
= [ [99 | [97 , 116       ]] | [100 | [111 , 103       ]] ]
= [ [99 ,  97 , 116        ] | [100 ,  111 , 103        ] ]
= [ [99 ,  97 , 116        ] ,  100 ,  111 , 103          ]
```

最終的に```['cat' | 'dog']```は整形すると以下のとおりとなる。

```elixir
[[99, 97, 116], 100, 111, 103]
```

ここで、各要素について
「整数リストを、それぞれが文字列として印字可能と判断すると、文字列として出力する」
が当てはまるかを見ていく。

* 要素[0]：[99, 97, 116] -> 整数リストかつ、それぞれ印字可能であるため、'cat'を出力
* 要素[1]: 100 -> 整数。整数リストではないため、100を出力
* 要素[2]: 111 -> 整数。整数リストではないため、111を出力
* 要素[3]: 103 -> 整数。整数リストではないため、103を出力

よって、要素0は'cat'、それ以外の要素は文字コードで表示される。
